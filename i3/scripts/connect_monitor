#!/bin/bash

monitor=`xrandr | cat | grep "connected" | grep -v "eDP1"  | grep -v "disconnected" | cut -d ' ' -f1`

if [ $# -ne 1 ] ; then
    exit 1
fi

# Those xrandr lines were generated by arandr. Do not change it
if [ $1 == "right" ]; then
    # RIGHT
    xrandr --output VIRTUAL1 --off --output eDP1 --primary --mode 1920x1080 --pos 0x0 --rotate normal --output DP1 --off --output HDMI2 --off --output HDMI1 --off --output $monitor --mode 1920x1080 --pos 1920x0 --rotate normal
elif [ $1 == "left" ]; then
    # LEFT
    xrandr --output VIRTUAL1 --off --output eDP1 --primary --mode 1920x1080 --pos 1920x0 --rotate normal --output DP1 --off --output HDMI2 --off --output HDMI1 --off --output $monitor --mode 1920x1080 --pos 0x0 --rotate normal
elif [ $1 == "top" ]; then
    # TOP
    xrandr --output VIRTUAL1 --off --output eDP1 --primary --mode 1920x1080 --pos 0x1080 --rotate normal --output DP1 --off --output HDMI2 --off --output HDMI1 --off --output $monitor --mode 1920x1080 --pos 0x0 --rotate normal
elif [ $1 == "extern" ]; then
    # EXTERN
    xrandr --output VIRTUAL1 --off --output eDP1 --off --output DP1 --off --output HDMI2 --off --output HDMI1 --off --output $monitor --mode 1920x1080 --pos 0x0 --rotate normal
elif [ $1 == "intern" ]; then
    # INTERN
    xrandr --output VIRTUAL1 --off --output eDP1 --primary --mode 1920x1080 --pos 0x0 --rotate normal --output DP1 --off --output HDMI2 --off --output HDMI1 --off --output DP2 --off
elif [ $1 == "mirror" ]; then
xrandr --output eDP1 --primary --mode 1920x1080 --pos 0x0 --rotate normal --output DP1 --mode 1920x1080 --pos 0x0 --rotate normal --output DP2 --off --output HDMI1 --off --output HDMI2 --off --output VIRTUAL1 --off
else
    exit 1
fi
if [[ $1 = "left" ]] || [[ $1 = "right" ]] || [[ $1 = "top" ]] ; then
    i3-msg "workspace 10, move workspace to output $monitor"
    i3-msg "workspace 11, move workspace to output $monitor"
    i3-msg "workspace 12, move workspace to output $monitor"
    i3-msg "workspace 13, move workspace to output $monitor"
    i3-msg "workspace 14, move workspace to output $monitor"
    i3-msg "workspace 15, move workspace to output $monitor"
    i3-msg "workspace 16, move workspace to output $monitor"
    i3-msg "workspace 17, move workspace to output $monitor"
    i3-msg "workspace 18, move workspace to output $monitor"
    i3-msg "workspace 19, move workspace to output $monitor"
    i3-msg "workspace 20, move workspace to output $monitor"
fi
